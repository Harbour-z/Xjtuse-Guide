# 数据流模型分析与设计

- 如何分析和确定系统中的功能？
- 如何建立程序与数据的联系？
- 如何通过对数据的建模和操作实现相应功能？

数据设计和处理设计一同进行。在设计数据库的概念模型和逻辑模型时，也需要设计系统模块和结构（通过面向对象的思想）



黑箱原理：我们不了解内部构造的结构，但可以根据输入输出分析其内部结构。

三层：上下文图、顶层图、一层图……

## 上下文模型

DFD 设计思想：

- 由外向内：外部的需求是所有工作的起点
- 系统边界的确定：系统边界取决于外部用户的需求

因此，确定外部实体应当是系统设计的第一步。

DFD 的其他设计思想包含：

- DFD 的核心特征是：自顶向下，逐步求精
- 核心：分解和抽象

![image-20211219203928171](https://telegraph-image-5ms.pages.dev/file/BQACAgUAAyEGAASIfjD1AAN9Z6RvC40FfEMlhws9uI_YxtFsXqkAAuMUAAIHrilVWv8QIqerA9g2BA.png)

- DFD　数据流图和数据字典相互结合
- 核心：互相补充和具体实现



- DFD 数据流上下层的流入与流出一致

  即画顶层视图中某节点的具体数据流图时，具体图中输入输出数量需要和顶层视图中数量相同

- 这体现了面向对象中封装的思想



![](https://telegraph-image-5ms.pages.dev/file/BQACAgUAAyEGAASIfjD1AAN-Z6RvEzGdAU7xIIxhYryzv7HRjhAAAuQUAAIHrilVmPgLjEswm8o2BA.png)

数据流图只反映**系统逻辑功能**

利用数据流图，可以表达数据在系统内部的逻辑流向以及系统的逻辑功能和数据的逻辑变换。

分层的数据流图总是由顶层、中间层和底层组成的（或：**上下文图**+0 级图+n 级图) ：

> ① 顶层数据流图确定了系统的边界 ② 中层图描述了某个处理过程的分解（一般是对顶层图中一个节点的分解），而组成部分要进一步被分解 ③ 底层图描述的是无须分解的基本处理过程

注意**边界**是数据流图最重要也是最基本的概念。边界是指项目的范围，不包含外部实体。只有明确了边界，才知道需要完成什么功能。比如下图这个巨大的系统中，外部实体是市场调查员、企业主管、顾客，其他内容都是边界内的。

![image-20241017203541042](https://telegraph-image-5ms.pages.dev/file/BQACAgUAAyEGAASIfjD1AAN_Z6RvFSHjLa_qru6UvJ4-SVF_ruoAAuUUAAIHrilVRYr6IxQpLWw2BA.png)

**数据流图的基本组成**

外部项(外部实体)：外部项在数据流图中表示所描 述系统的数据来源和去处的各种实体或工作环节。 加工(数据处理)：又称数据处理逻辑，描述系统对 信息进行处理的逻辑功能。 数据存储：逻辑意义上的数据存储环节，即系统信 息处理功能需要的、不考虑存储物理介质和技术手 段的数据存储环节。 数据流：与所描述系统信息处理功能有关的各类信 息的载体.

[![image-20211219204158677](https://camo.githubusercontent.com/7a0ddf8f342029455a006062fd4b83228984a33dcb76baeecd992623d2882ac3/68747470733a2f2f67697465652e636f6d2f79692d6a756e7175616e2f696d6167655f67697465652f7261772f6d61737465722f696d616765732f696d6167652d32303231313231393230343135383637372e706e67)](https://camo.githubusercontent.com/7a0ddf8f342029455a006062fd4b83228984a33dcb76baeecd992623d2882ac3/68747470733a2f2f67697465652e636f6d2f79692d6a756e7175616e2f696d6167655f67697465652f7261772f6d61737465722f696d616765732f696d6167652d32303231313231393230343135383637372e706e67)

仅仅一套数据流图并不能构成系统说明书，只有当图 中出现的每一个成分都给出详细定义之后，才能较 全面地描述一个系统 数据流图中所有名字的定义及描述就构成了一本字典， 它包括数据流、数据存储、外部项和处理过程的详细 条目

**数据流、数据存储等数据型条目构成数据字典**（data dictionary） 数据字典是数据流图的辅助资料，对数据流图起注解 作用。数据字典主要用于描述数据流和数据存储的逻 辑内容，以及外部项和处理过程的某些数据特性

[![image-20211219210741432](https://camo.githubusercontent.com/0adb3c61e104e02c15ffd8dbd08f805e61d1db7af3dd1a5c1e04fb8934034512/68747470733a2f2f67697465652e636f6d2f79692d6a756e7175616e2f696d6167655f67697465652f7261772f6d61737465722f696d616765732f696d6167652d32303231313231393231303734313433322e706e67)](https://camo.githubusercontent.com/0adb3c61e104e02c15ffd8dbd08f805e61d1db7af3dd1a5c1e04fb8934034512/68747470733a2f2f67697465652e636f6d2f79692d6a756e7175616e2f696d6167655f67697465652f7261772f6d61737465722f696d616765732f696d6167652d32303231313231393231303734313433322e706e67)

数据字典的内容包含：

- 条目名称
- 编号（自己给数据流编的号）
- 别名（可以没有）
- 数据流结构（包含什么信息）
- 简要说明
